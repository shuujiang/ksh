function include(e,t,n){if(null==document.getElementById(e))for(var o="string"==typeof n?[n]:n,i=0;i<o.length;i++){var r=o[i].replace(/^\s|\s$/g,""),a=r.split("."),s=a[a.length-1].toLowerCase(),c="css"==s,l=c?"link":"script",u=c?" type='text/css' rel='stylesheet' ":" type='text/javascript' ",p=(c?"href":"src")+"='"+t+r+"'";document.write("<"+l+(0==i?" id="+e:"")+u+p+"></"+l+">")}}function getQueryString(e,t){var n=new RegExp("(^|&)"+e+"=([^&]*)(&|$)","i");return t=t&&""!=t?t.substring(t.indexOf("?")):window.location.search,r=t.substr(1).match(n),null!=r?unescape(r[2]):null}function getDictLabel(e,t,n){for(var o=0;o<e.length;o++){var i=e[o];if(i.value==t)return i.label}return n}function windowOpen(e,t,n,o){var i=parseInt((window.screen.height-o)/2,10),r=parseInt((window.screen.width-n)/2,10),a="location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes,width="+n+",height="+o+",top="+i+",left="+r;window.open(e,t,a)}function resetTip(){top.$.jBox.tip.mess=null}function closeTip(){top.$.jBox.closeTip()}function showTip(e,t,n,o){resetTip(),setTimeout(function(){top.$.jBox.tip(e,void 0==t||""==t?"info":t,{opacity:0,timeout:void 0==n?2e3:n})},void 0==o?500:o)}function loading(e){void 0!=e&&""!=e||(e="正在提交，请稍等..."),resetTip(),top.$.jBox.tip(e,"loading",{opacity:0})}function loadingCircle(){loadcount=1,window.top.$(".loader").css("display","block"),window.top.$("#BeforeLoader").css("display","block");var e=$(top).width(),t=$(top).height();!window.top.$("#BeforeLoader").length>0&&(window.top.$(".loader").wrap("<div  id='BeforeLoader'></div>"),window.top.$("#BeforeLoader").css({width:e,height:t,"background-color":"rgba(0, 0, 0, 0.33)",position:"absolute","z-index":2e7}))}function loadingClose(e){e||(e=1),e==loadcount&&(window.top.$(".loader").css("display","none"),window.top.$("#BeforeLoader").css("display","none")),loadcount++}function reloading(){var e=$(top).width(),t=$(top).height();window.top.$("#BeforeLoader").css({width:e,height:t})}function alertx(e,t){top.$.jBox.info(e,"提示",{closed:function(){"function"==typeof t&&t()}}),top.$(".jbox-body .jbox-icon").css("top","55px")}function confirmx(e,t,n){return top.layer.confirm(e,{icon:3,title:"系统提示"},function(e){"function"==typeof t?t():(resetTip(),location=t),top.layer.close(e)}),!1}function promptx(e,t){var n=top.layer.prompt({title:e,formType:2},function(e){"function"==typeof t?t():(resetTip(),location=t+encodeURIComponent(e)),top.layer.close(n)});return!1}function addTabPage(e,t,n,o,i){top.$.fn.jerichoTab.addTab({tabFirer:o,title:e,closeable:void 0==n,data:{dataType:"iframe",dataLink:t}}).loadData(void 0!=i)}function cookie(e,t,n){if(void 0===t){var o=null;if(document.cookie&&""!=document.cookie)for(var i=document.cookie.split(";"),r=0;r<i.length;r++){var a=jQuery.trim(i[r]);if(a.substring(0,e.length+1)==e+"="){o=decodeURIComponent(a.substring(e.length+1));break}}return o}n=n||{},null===t&&(t="",n.expires=-1);var s="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString)){var c;"number"==typeof n.expires?(c=new Date,c.setTime(c.getTime()+24*n.expires*60*60*1e3)):c=n.expires,s="; expires="+c.toUTCString()}var l=n.path?"; path="+n.path:"",u=n.domain?"; domain="+n.domain:"",p=n.secure?"; secure":"";document.cookie=[e,"=",encodeURIComponent(t),s,l,u,p].join("")}function pad(e,t){for(var n=e.toString().length;n<t;)e="0"+e,n++;return e}function strToDate(e){return new Date(e.replace(/-/g,"/"))}function toDDMMMYYYY(e){var t=new Date(e.getTime()),n=t.getMonth()+1;return t.getFullYear().toString()+"-"+n+"-"+t.getDate()}function addDate(e,t){return e=e.valueOf(),e+=24*t*60*60*1e3,new Date(e)}function abbr(e,t){if(t||(t=20),null==e||e.length<1)return"";for(var n,o=0,i=0,r=!1,a=!1,s=0;s<e.length;s++){s>1&&0==a&&(r=!1),s>1&&1==a&&(r=!0);var c=e.charCodeAt(s);if(c>=1&&c<=126||65376<=c&&c<=65439?(o++,a=!1):(o+=2,i++,a=!0),o>t&&s<=e.length-1){1==a&&1==r&&(n=e.substring(0,s-2)+"..."),0==a&&0==r&&(n=e.substring(0,s-3)+"..."),1==a&&0==r&&(n=e.substring(0,s-2)+"..."),1==r&&(n=e.substring(0,s-2)+"...");break}}return o<=t?e:n}function openDialog(e,t,n,o,i,r){void 0!==n&&0!=n.length||(n=.8*$(window).width()+"px"),void 0!==o&&0!=o.length||(o=.7*$(window).height()+"px"),navigator.userAgent.match(/(iPone|iPod|Android|iso)/i)?(n="auto",o="auto"):(n&&$(top.window).width()<n.replace("px","")&&(n=$(top.window).width()-20+"px"),o&&$(top.window).height()<o.replace("px","")&&(o=$(top.window).height()-20+"px"));var a={type:2,area:[n,o],title:e,maxmin:!0,content:t,btn:["确定","关闭"],yes:function(e,t){var n,o=top.layer.getChildFrame("body",e),r=t.find("iframe")[0],a=o.find("#inputForm");n=i||top.getActiveTab().attr("name"),a.attr("target",n);var s={};"undefined"!=typeof refreshTree&&(s.refreshTree=refreshTree),void 0!==refreshAllTree&&(s.refreshAllTree=refreshAllTree),"undefined"==typeof table?r.contentWindow.doSubmit(e,s)&&("function"==typeof window.parent.refreshTree&&window.parent.refreshTree(),setTimeout(function(){top.layer.close(e)},100)):($("#fparent_id").size()>0&&r.contentWindow.setPId($("#fparent_id").val()),r.contentWindow.doSubmit(e,table,s))},cancel:function(e){},success:function(e,t){}};a=$.extend({},a,r),top.layer.open(a)}function openDialogView(e,t,n,o,i){void 0!==n&&0!=n.length||(n=.8*$(window).width()+"px"),void 0!==o&&0!=o.length||(o=.7*$(window).height()+"px"),navigator.userAgent.match(/(iPone|iPod|Android|iso)/i)?(n="auto",o="auto"):(n&&$(top.window).width()<n.replace("px","")&&(n=$(top.window).width()-20+"px"),o&&$(top.window).height()<o.replace("px","")&&(o=$(top.window).height()-20+"px"));var r={type:2,area:[n,o],title:e,maxmin:!0,content:t,btn:["关闭"],cancel:function(e){}};r=$.extend({},r,i),top.layer.open(r)}function search(){return $("#pageNo").val(0),$("#searchForm").submit(),!1}function searchA(e){void 0!=e?table.ajax.url(e).load():table.ajax.reload()}function deleteA(e,t,n){confirmx("确认要删除该"+t+"吗？",function(){submitData(e,{},function(e){top.layer.alert(e.msg,{icon:3,title:"系统提示"}),"undefined"!=typeof table&&table.ajax.reload(null,!1),n&&refreshAllTree()})})}function refreshAll(){"undefined"!=typeof table&&table.ajax.reload(null,!1),refreshAllTree()}function refreshAllTree(){"function"==typeof window.parent.refreshTree?window.parent.refreshTree():"function"==typeof refreshTree&&refreshTree()}function reset(){return $("#pageNo").val(0),$("#searchForm div.form-group input").val(""),$("#searchForm div.form-group select").val(""),$("#searchForm").submit(),!1}function sortOrRefresh(){return $("#searchForm").submit(),!1}function page(e,t){return $("#pageNo").val(e),$("#pageSize").val(t),$("#searchForm").submit(),$("span.page-size").text(t),!1}function submitData(e,t,n,o,i,r,a){i=isBlank(i)?"post":i,r=isBlank(r)?"json":r,t=isBlank(t)?"":t,a=0!=a,$.ajax({async:a,type:i,url:e,dataType:r,data:t,success:function(e){isBlank(n)||"function"!=typeof n||n.call(this,e)},error:function(e){isBlank(o)||"function"!=typeof o||o.call(this,e)}})}function getDataFromAjax(e,t,n){var o;return n=n||"json",t=t,$.ajax({async:!1,type:"post",url:e,dataType:n,data:t,cache:!1,ifModified:!0,success:function(e){o=e},error:function(e){o=e.responseText},complete:function(e,t){null}}),o}function isBlank(e){return void 0==e||null==e||""==e}function chachong(e,t){var n=!1;if(""==$.trim(t))return!0;for(idx in e)if(e[idx].name==t){n=!0;break}return n}function getFormParams(e,t){if(0==$("#"+e).length)return{};var n=$("#"+e+" input[type!='radio'][type!='checkbox'],#"+e+" textarea,#"+e+" select,#"+e+" input[type='radio']:checked");if(0==n.length)return{};var o="{";n.each(function(e){o+='"'+this.name+'":"'+this.value+'",'});var i={};$("#"+e+" input[type='checkbox']:checked").each(function(e){void 0!=i[this.name]?i[this.name]+=","+this.value:i[this.name]=[this.value]});for(idx in i)o+='"'+idx+'":"'+i[idx]+'",';$("input[type=checkbox]:checked").map(function(){return this.value}).get().join(",");return o=o.substring(0,o.length-1)+"}",$.parseJSON(o)}function getFormParamsSim(e){return $("#"+e+" input[type!='radio'][type!='checkbox'],#"+e+" textarea,#"+e+" select,#"+e+" input[type='radio']:checked").serialize()}function getFormParamsObj(e,t){var n=$("#"+e+" input"),o=new Object;return n.each(function(e){o[this.name]=this.value}),o}function nofind(e){var t=event.srcElement;t.src=e,t.onerror=null}function escape2Html(e){var t={lt:"<",gt:">",nbsp:" ",amp:"&",quot:'"'};return e.replace(/&(lt|gt|nbsp|amp|quot);/gi,function(e,n){return t[n]})}function getObjFromArr(e,t,n){for(i in t)if(t[i][e]==n)return t[i]}function getIndexFromArr(e,t,n){for(i in t)if(t[i][e]==n)return i;return null}$(document).ready(function(){try{$("a").bind("focus",function(){this.blur&&this.blur()}),$("select").select2()}catch(e){}}),window.baseAlert=window.alert,window.alert=function(e,t){alertx(e,t)},Date.prototype.Format=function(e){var t=e,n=["日","一","二","三","四","五","六"],o=this.getMonth()+1;return t=t.replace(/yyyy|YYYY/,this.getFullYear()),t=t.replace(/yy|YY/,this.getYear()%100>9?(this.getYear()%100).toString():"0"+this.getYear()%100),t=t.replace(/MM/,o>9?o.toString():"0"+o),t=t.replace(/M/g,o),t=t.replace(/w|W/g,n[this.getDay()]),t=t.replace(/dd|DD/,this.getDate()>9?this.getDate().toString():"0"+this.getDate()),t=t.replace(/d|D/g,this.getDate()),t=t.replace(/hh|HH/,this.getHours()>9?this.getHours().toString():"0"+this.getHours()),t=t.replace(/h|H/g,this.getHours()),t=t.replace(/mm/,this.getMinutes()>9?this.getMinutes().toString():"0"+this.getMinutes()),t=t.replace(/m/g,this.getMinutes()),t=t.replace(/ss|SS/,this.getSeconds()>9?this.getSeconds().toString():"0"+this.getSeconds()),t=t.replace(/s|S/g,this.getSeconds())},String.prototype.replaceAll=function(e,t){return this.replace(new RegExp(e,"gm"),t)};var CONSTANT={DATA_TABLES:{DEFAULT_OPTION:{language:{sProcessing:"处理中...",sLengthMenu:"每页 _MENU_ 项",sZeroRecords:"没有匹配结果",sInfo:"当前显示第 _START_ 至 _END_ 项，共 _TOTAL_ 项。",sInfoEmpty:"当前显示第 0 至 0 项，共 0 项",sInfoFiltered:"(由 _MAX_ 项结果过滤)",sInfoPostFix:"",sSearch:"搜索:",sUrl:"",sEmptyTable:"表中数据为空",sLoadingRecords:"载入中...",sInfoThousands:",",oPaginate:{sFirst:"首页",sPrevious:"上页",sNext:"下页",sLast:"末页",sJump:"跳转"},oAria:{sSortAscending:": 以升序排列此列",sSortDescending:": 以降序排列此列"}},autoWidth:!1,stripeClasses:["odd","even"],order:[],processing:!1,serverSide:!0,searching:!1},COLUMN:{CHECKBOX:{className:"td-checkbox",orderable:!1,width:"30px",data:null,render:function(e,t,n,o){return'<input type="checkbox" class="i-checks" id="'+n.id+'">'}}},RENDER:{ELLIPSIS:function(e,t,n,o){return'<span title="'+(e=e||"")+'">'+e+"</span>"}}}};Array.prototype.forEach||(Array.prototype.forEach=function(e,t){var n,o;if(null==this)throw new TypeError(" this is null or not defined");var i=Object(this),r=i.length>>>0;if("[object Function]"!={}.toString.call(e))throw new TypeError(e+" is not a function");for(t&&(n=t),o=0;o<r;){var a;o in i&&(a=i[o],e.call(n,a,o,i)),o++}});